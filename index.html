<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Time Release Transfer</title>
    <link rel="stylesheet" href="//unpkg.com/mvp.css@1.12/mvp.css">
    <style>
        /* show multisig config only if multisig */
        #multisigConfig {
            display: none;
            margin-bottom: 20px;
        }

        #multisigCheckbox:checked~#multisigConfig {
            display: block;
        }

    </style>
</head>

<body style="padding: 0 20px 10px">
    <h1>Time Release Transfer</h1>
    <p>
        Does a single period Time Release transfer.
    </p>
    <form id="setupForm">
        <label for="provider">Websocket Connection</label>
        <input type="text" id="provider" name="provider" list="provider-list" value="ws://localhost:9944"><br>

        <datalist id="provider-list">
            <option value="wss://rpc.rococo.frequency.xyz">
            <option value="wss://1.rpc.frequency.xyz">
            <option value="ws://localhost:9944">
        </datalist>

        <button type="button" id="connectButton">Connect to Wallet</button>
    </form>
    <hr />
    <form id="transferForm" style="float:left; display: none; margin-right: 10px;">
        <label for="txLabel">Transaction Label</label>
        <input type="text" id="txLabel" name="txLabel"
            placeholder="Paste spreadsheet here [label,recipient,amount,date]"><br>
        <label for="sender">Sender Address:</label>
        <select style="width: 100%" id="sender" name="sender" required></select>
        <p>Account Balance: <span id="balance"></span> <span class="unit">UNIT</span></p>
        <label style="display: inline;" for="multisigCheckbox">Multisig?</label>
        <input style="display: inline;" type="checkbox" id="multisigCheckbox" name="multisigCheckbox" />
        <fieldset id="multisigConfig">
            <legend>Configuration</legend>
            <label for="multisigThreshold">Threshold</label>
            <input type="number" id="multisigThreshold" name="multisigThreshold" required min="2" step="1" value="2"><br />
            <label for="multisigSignatories">Signatories (Excluding sender)</label>
            <textarea name="multisigSignatories" id="multisigSignatories" rows="5"
                placeholder="One per line"></textarea>
            <label for="multisigAddress">Result Address</label>
            <input type="text" id="multisigAddress" disabled name="multisigAddress">
        </fieldset>
        <label for="recipient">Recipient Address:</label>
        <input type="text" id="recipient" name="recipient" required><br>
        <label for="amount">Amount: (in Planck <span class="unit">UNIT</span>s)</label>
        <input type="number" id="amount" name="amount" required min="1" step="1">
        <p><span class="unit">UNIT</span>: <span id="unit"></span></p>
        <p>milli<span class="unit">UNIT</span>: <span id="milliunit"></span></p>
        <label for="actualBlock">Actual Block:</label>
        <input type="number" id="actualBlock" disabled name="actualBlock">
        <label for="unlockDate">Estimated Date:</label>
        <input type="date" id="unlockDate" name="unlockDate" required><br>
        <button type="submit">Create Transfer</button>
    </form>
    <div style="float:left; width: 50%;">
        <h2>Transaction Log</h2>
        <ul id="log"></ul>
    </div>
    <script type="module" src="./main.js"></script>
</body>


</html>
